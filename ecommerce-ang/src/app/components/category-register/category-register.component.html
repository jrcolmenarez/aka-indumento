<form #registercat="ngForm" (ngSubmit)="onSubmit(registercat)">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="row justify-content-center">
        <div class="col-md-8 ps-0">
          <h1 class="text-justify" *ngIf="!is_edit">Registrar Categorias</h1>
          <div class="col-md-6" *ngIf="is_edit">
            <h1 class="text-justify">Editar Categorias</h1>
            <br>
            <label for="category" class="form-label"><strong>SELECCIONE CATEGORIA</strong></label>
            <select class="form-select" aria-label="Default select example" name="categories"
            id="select" (change)="selectcategory($event)">
              <option value="{{category.id}}" *ngFor="let category of categories">{{category.name}}</option>
          </select>



            <br>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="mb-2">
          <label for="name" class="form-label"><strong>NOMBRE</strong></label>
          <input type="text" class="form-control" name="name" #name="ngModel" [(ngModel)]="category.name" required
            pattern="[a-zA-Z \u00f1\u00d1\u00E0-\u00FC]+">
          <small *ngIf="!name.valid && name.touched" class="invalid-feedback d-block">
            Campo Nombre no Valido.!
          </small>
        </div>
        <div class="mb-2">
          <label for="name" class="form-label"><strong>Descripcion</strong></label>
          <!--<input type="text" class="form-control" name="name" #name="ngModel" [(ngModel)]="category.description" required
            pattern="[a-zA-Z \u00f1\u00d1\u00E0-\u00FC]+">-->
          <textarea class="form-control" name="name" #name="ngModel" [(ngModel)]="category.description" required
            pattern="[a-zA-Z \u00f1\u00d1\u00E0-\u00FC]+"></textarea>
          <small *ngIf="!name.valid && name.touched" class="invalid-feedback d-block">
            Campo Descripcion no Valido.!
          </small>
        </div>

      </div>
      <div class="col-md-4">
        <div class="row align-items-center">
          <div class="col-xl-12 col-xxl-3 mb-2 ps-3">
            <label for="name" class="form-label"><strong>IMAGEN</strong></label><br>
            <img src="{{url+'category/image/'+category.image}}" class="img-product" *ngIf="is_edit && category.image" />
            <img src="assets/product-holder.jpg" class="img-product" *ngIf="!category.image" />
          </div>
          <div class="col-xl-12 col-xxl-8">
            <div class="row">
              <div class="col-12">
                <label class="btn btn-default p-0">
                  <input type="file" name="image1" id="image1" (change)="selectFile($event)" />
                </label>

                <div *ngIf="currentFile" class="progress my-3">
                  <div class="progress-bar progress-bar-info" role="progressbar" attr.aria-valuenow="{{ progress1 }}"
                    aria-valuemin="0" aria-valuemax="100" [ngStyle]="{ width: progress1 + '%' }">
                    {{ progress1 }}%
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      <div class="row justify-content-center bg-success" *ngIf="is_subcategory">
        <div class="col-md-8">
          <table class="table table-dark table-striped">
            <thead>
              <tr>
                <th scope="col">NOMBRE</th>
                <th scope="col">DESCRIPCION</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let subcat of categories.subcategory ">
                <td>{{subcat.name}}</td>
                <td>{{subcat.description}}</td>
               <!-- <td><a [routerLink]="['/editarusuario',user.id]"><i class="fa-sharp fa-solid fa-user-pen me-3" ></i></a>
                    <a data-bs-toggle="modal" [attr.data-bs-target]="'#exampleModal'+user.id"><i class="fa-solid fa-trash me-3"></i></a>
                          MODAL
                          <div class="modal" tabindex="-1" id="{{'exampleModal'+user.id}}" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <h5 class="modal-title"><FONT COLOR="black">Â¿Seguro que desea eliminar?</FONT></h5>
                                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                  <p><FONT COLOR="black">Se eliminaran datos de {{user.name+' '+user.surname}}</FONT></p>
                                </div>
                                <div class="modal-footer">
                                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                                  <a (click)="deleteUser(user.id)" class="btn btn-danger" data-bs-dismiss="modal">Eliminar</a>
                                </div>
                              </div>
                            </div>
                          </div>
                    <a [routerLink]="['/detalleusuario',user.id]"><i class="fa-solid fa-address-card"></i></a>
                </td>-->

              </tr>
            </tbody>

                        <!-- FIN MODAL-->
          </table>
        </div>
      </div>
    </div>
    <div class="row  justify-content-center">
      <br>
      <div class="row col-md-8">
        <div class="d-flex mt-5 justify-content-center">
          <button type="submit" class="btn btn-dark me-3 ms-3" *ngIf="!is_edit"
            [disabled]="registercat.invalid">Registrar</button>
          <button type="submit" class="btn btn-dark me-3 ms-3" *ngIf="is_edit"
            [disabled]="registercat.invalid">Actualizar</button>
          <button type="button" class="btn btn-dark ms-3" [routerLink]="['/inicio']">Cancelar</button>
        </div>

      </div>
    </div>
  </div>
</form>
